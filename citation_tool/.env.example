# Citation Engine Environment Variables
# =====================================
# Copy this file to .env and fill in your values

# =============================================================================
# Database Configuration
# =============================================================================

# SQLite Configuration (Basic Mode)
# Path to SQLite database file - used when mode="basic"
CITATION_DB_PATH=./citations.db

# PostgreSQL Configuration (Multi-Agent Mode)
# Individual settings for building connection string
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=citations
POSTGRES_USER=citation_user
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_MIN_CONNECTIONS=1
POSTGRES_MAX_CONNECTIONS=10

# PostgreSQL connection URL - used when mode="multi-agent"
# Format: postgresql://user:password@host:port/database
# If set, overrides the individual POSTGRES_* settings above
CITATION_DB_URL=postgresql://citation_user:your_secure_password_here@localhost:5432/citations

# =============================================================================
# LLM Configuration (for Citation Verification)
# =============================================================================

# Custom LLM endpoint URL (OpenAI-compatible)
# Examples:
#   - llama.cpp: http://localhost:8080/v1
#   - vLLM: http://localhost:8000/v1
#   - Ollama: http://localhost:11434/v1
#   - OpenAI: leave empty (uses default)
CITATION_LLM_URL=

# Model to use for verification
# For local models, use the model name/path as configured in your server
# For OpenAI, use gpt-4o-mini, gpt-4o, etc.
CITATION_LLM_MODEL=gpt-4o-mini

# OpenAI API key (required if using OpenAI, optional for local models)
OPENAI_API_KEY=

# =============================================================================
# Citation Engine Settings
# =============================================================================

# When to require relevance_reasoning in citations
# Options:
#   - none: Never required
#   - low: Required when confidence is "low" (default)
#   - medium: Required when confidence is "low" or "medium"
#   - high: Always required
CITATION_REASONING_REQUIRED=low

# =============================================================================
# Logging Configuration
# =============================================================================

# Console log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# File log level (usually more verbose than console)
LOG_FILE_LEVEL=DEBUG

# Log format string
LOG_FORMAT="%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# Log date format
LOG_DATE_FORMAT=%Y-%m-%d %H:%M:%S

# Directory for log files (relative to project root)
LOG_DIRECTORY=.filesystem/logs

# Main application log file name
LOG_FILE=citation_engine.log

# =============================================================================
# Test Configuration
# =============================================================================

# Set to "true" to run integration tests against real PostgreSQL
RUN_POSTGRES_TESTS=false

# Set to "true" to run end-to-end tests with real LLM verification
RUN_LLM_TESTS=false

# Set to "true" to run web source tests (requires network access)
RUN_WEB_TESTS=false
