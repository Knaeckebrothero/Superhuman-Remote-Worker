{
  "$schema": "schema.json",
  "agent_id": "validator",
  "display_name": "Validator Agent",
  "description": "Autonomous agent for validating requirements from the cache and integrating them into the Neo4j knowledge graph.",

  "llm": {
    "model": "gpt-oss-120b",
    "temperature": 0.0,
    "reasoning_level": "high",
    "base_url": null
  },

  "workspace": {
    "structure": [
      "archive/",
      "analysis/",
      "output/",
      "tools/"
    ],
    "instructions_template": "validator_instructions.md",
    "initial_files": {
      "instructions.md": "instructions/validator_instructions.md"
    }
  },

  "tools": {
    "workspace": [
      "read_file",
      "write_file",
      "append_file",
      "list_files",
      "delete_file",
      "search_files",
      "file_exists",
      "get_workspace_summary"
    ],
    "todo": [
      "todo_write",
      "archive_and_reset"
    ],
    "domain": [
      "execute_cypher_query",
      "get_database_schema",
      "find_similar_requirements",
      "check_for_duplicates",
      "resolve_business_object",
      "resolve_message",
      "validate_schema_compliance",
      "create_requirement_node",
      "create_fulfillment_relationship",
      "generate_requirement_id",
      "get_entity_relationships",
      "count_graph_statistics"
    ],
    "completion": [
      "mark_complete",
      "job_complete"
    ]
  },

  "todo": {
    "max_items": 20,
    "archive_on_reset": true,
    "archive_path": "archive/",
    "auto_reflection": true,
    "reflection_task_content": "Review plan in main_plan.md, update with progress, adjust if needed, create next todos"
  },

  "connections": {
    "postgres": true,
    "neo4j": true
  },

  "polling": {
    "enabled": true,
    "table": "requirement_cache",
    "status_field": "validation_status",
    "status_value_pending": "pending",
    "status_value_processing": "validating",
    "status_value_complete": "validated",
    "status_value_failed": "rejected",
    "interval_seconds": 10,
    "use_skip_locked": true
  },

  "limits": {
    "max_iterations": 500,
    "context_threshold_tokens": 80000,
    "tool_retry_count": 3
  },

  "context_management": {
    "compact_on_archive": true,
    "keep_recent_tool_results": 5,
    "summarization_prompt": "Summarize the validation work completed so far. Focus on: (1) Which requirements have been analyzed, (2) Relevance decisions made, (3) Fulfillment analysis results, (4) Graph integrations completed. Include any key decisions and entity resolutions.",
    "protected_context_enabled": true,
    "protected_context_plan_file": "main_plan.md",
    "protected_context_max_chars": 2000,
    "protected_context_include_todos": true
  },

  "validation": {
    "duplicate_threshold": 0.95,
    "require_citations": true,
    "metamodel_validation_strict": true,
    "fulfillment_confidence_threshold": 0.7,
    "auto_integrate": false
  }
}
