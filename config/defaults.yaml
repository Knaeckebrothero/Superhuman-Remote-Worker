# yaml-language-server: $schema=schema.json
# Framework defaults - agents extend this via $extends

agent_id: default
display_name: A Generalist Agent

llm:
  model: openai/gpt-oss-120b
  provider: null  # Auto-detect from model name (claude-* → anthropic, gemini-* → google)
  temperature: 0.0
  reasoning_level: high
  base_url: null
  timeout: 600
  max_retries: 3
  multimodal: false  # Set to true if model can process images directly

workspace:
  structure:
    - archive/
    - tools/
  instructions_template: instructions.md
  initial_files:
    workspace.md: prompts/workspace_template.md
  max_read_words: 25000
  # Git versioning for workspace history
  git_versioning: true
  git_ignore_patterns:
    - "*.db"
    - "*.log"
    - "__pycache__/"
    - ".DS_Store"
    - "*.pyc"

tools:
  # Workspace tools - file operations (src/tools/workspace/)
  workspace:
    - read_file
    - write_file
    - edit_file
    - list_files
    - delete_file
    - search_files
    - file_exists
    - move_file
    - rename_file
    - copy_file
    - get_workspace_summary
    - get_document_info
  # Core tools - to-do + job management (src/tools/core/)
  core:
    - next_phase_todos
    - todo_complete
    - todo_list
    - todo_rewind
    - mark_complete
    - job_complete
  # Document tools - document processing (src/tools/document/)
  document:
    - chunk_document
  # Research tools - web search, academic papers, browser & workflows (src/tools/research/)
  research:
    - web_search
    - extract_webpage
    - crawl_website
    - map_website
    - search_papers
    - download_paper
    - get_paper_info
    - browse_website
    - download_from_website
    - research_topic
  # Citation tools - citation management (src/tools/citation/)
  citation:
    - cite_document
    - cite_web
    - list_sources
    - get_citation
    - list_citations
    - edit_citation
  # Graph tools - Neo4j operations (src/tools/graph/)
  graph:
    - execute_cypher_query
    - get_database_schema
    - validate_schema_compliance
  # Git tools - workspace version control (src/tools/git/)
  git:
    - git_log
    - git_show
    - git_diff
    - git_status
    - git_tags

todo:
  archive_on_reset: true
  archive_path: archive/

connections:
  postgres: true
  neo4j: false

limits:
  context_threshold_tokens: 80000
  message_count_threshold: 200
  message_count_min_tokens: 40000
  tool_retry_count: 3
  model_max_context_tokens: 100000
  summarization_safe_limit: 100000
  summarization_chunk_size: 80000

context_management:
  compact_on_archive: true
  # TODO: This is somewhat "bad practice" and should be reworked
  keep_recent_tool_results: 200
  keep_recent_messages: 10
  summarization_template: summarization_prompt.txt

document_processing:
  chunking_strategy: general
  max_chunk_size: 1000
  chunk_overlap: 200
  extraction_mode: balanced
  min_confidence_threshold: 0.5

research:
  web_search_enabled: false
  graph_search_enabled: false
  research_depth: standard
  # Proxy for accessing paywalled content (e.g., via SSH tunnel to university)
  proxy:
    enabled: false
    type: socks5  # "http", "socks5", or "none"
    host: null
    port: null

# Browser automation settings (browser-use + Playwright)
browser:
  headless: true
  timeout: 60000  # Milliseconds
  use_vision: false  # DOM-based by default (works with any LLM)

validation:
  duplicate_threshold: 0.9
  require_citations: false
  metamodel_validation_strict: false
  fulfillment_confidence_threshold: 0.5
  auto_integrate: false
