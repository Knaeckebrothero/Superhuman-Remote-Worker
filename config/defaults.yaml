# yaml-language-server: $schema=schema.json
# Framework defaults - agents extend this via $extends

agent_id: default
display_name: A Generalist Agent

llm:
  model: openai/gpt-oss-120b
  provider: null  # Auto-detect from model name (claude-* → anthropic, gemini-* → google)
  temperature: 0.0
  reasoning_level: high
  base_url: null
  timeout: 600
  max_retries: 3

workspace:
  structure:
    - archive/
    - tools/
  instructions_template: instructions.md
  initial_files:
    workspace.md: prompts/workspace_template.md
  max_read_words: 25000

tools:
  # Workspace tools - file operations (src/tools/workspace/)
  workspace:
    - read_file
    - write_file
    - edit_file
    - list_files
    - delete_file
    - search_files
    - file_exists
    - move_file
    - rename_file
    - copy_file
    - get_workspace_summary
    - get_document_info
  # Core tools - todo + job management (src/tools/core/)
  core:
    - next_phase_todos
    - todo_complete
    - todo_list
    - todo_rewind
    - mark_complete
    - job_complete
  # Document tools - document processing (src/tools/document/)
  document:
    - extract_document_text
    - chunk_document
    - identify_requirement_candidates
  # Research tools - web search (src/tools/research/)
  research:
    - web_search
  # Citation tools - citation management (src/tools/citation/)
  citation:
    - cite_document
    - cite_web
    - list_sources
    - get_citation
    - list_citations
    - edit_citation
  # Graph tools - Neo4j operations (src/tools/graph/)
  graph:
    - execute_cypher_query
    - get_database_schema
    - validate_schema_compliance

todo:
  archive_on_reset: true
  archive_path: archive/

connections:
  postgres: true
  neo4j: false

limits:
  context_threshold_tokens: 60000
  message_count_threshold: 200
  message_count_min_tokens: 40000
  tool_retry_count: 3
  model_max_context_tokens: 100000
  summarization_safe_limit: 100000
  summarization_chunk_size: 80000

context_management:
  compact_on_archive: true
  keep_recent_tool_results: 10
  keep_recent_messages: 10
  summarization_template: summarization_prompt.txt

document_processing:
  chunking_strategy: general
  max_chunk_size: 1000
  chunk_overlap: 200
  extraction_mode: balanced
  min_confidence_threshold: 0.5

research:
  web_search_enabled: false
  graph_search_enabled: false
  research_depth: standard

validation:
  duplicate_threshold: 0.9
  require_citations: false
  metamodel_validation_strict: false
  fulfillment_confidence_threshold: 0.5
  auto_integrate: false
