# Strategic todos for phase transitions (between tactical phases)
# These todos guide the agent through a review-reflect-adapt cycle
# that ensures quality planning and accurate progress tracking.
todos:
  - id: 1
    content: >-
      REVIEW: Use git_log (max_count=15) to see commits from the previous
      tactical phase. Then use git_diff with the phase tag (e.g., phase_2_start)
      to see all changes. Write a phase retrospective to archive/phase_N_retrospective.md
      covering: (1) what was accomplished with specific file changes, (2) what
      was attempted but didn't work, (3) unexpected discoveries or blockers,
      (4) how many todos were completed vs planned, and (5) time/effort observations.
  - id: 2
    content: >-
      REFLECT on workspace.md: Read it fully, then REWRITE it (don't append).
      Remove redundant info already tracked in plan.md (like phase completion status).
      Merge related items. Keep only: current blockers, key decisions with reasoning,
      entity references needed for lookups, and critical context that survives compaction.
      Target: under 50 lines of high-value content. Delete stale observations.
  - id: 3
    content: >-
      ADAPT plan.md based on the retrospective: (1) Mark completed phases with
      actual outcomes (not just "done"). (2) Evaluate phase sizing - were 20 todos
      too many? Should next phase be smaller? (3) If the phase is incomplete,
      create a continuation phase (e.g., "Phase 2.5: Complete remaining extraction")
      rather than forcing everything into the next planned phase. (4) Adjust
      upcoming phases based on discoveries - maybe a planned phase is now unnecessary,
      or a new phase is needed. The plan is a living document, not a contract.
  - id: 4
    content: >-
      PLAN the next phase: Based on the adapted plan, create todos using
      next_phase_todos. Consider: (1) Start with 5-10 todos for complex work,
      up to 15-20 only for simple repetitive tasks. (2) Each todo should be
      completable in 1-3 tool calls. (3) Include a verification todo at the end
      to confirm phase goals were met. If the plan is fully executed and verified,
      call job_complete instead.
